<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>FLUX:: Immersive Products Documentation â€“ index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">FLUX:: Immersive Products Documentation</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">FLUX:: Immersive Products Documentation</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Plug-ins</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Evo Channel</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  ../evo-channel/index.html
  </li>
          <li class="sidebar-item">
  ../evo-channel/General_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Module_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Geek_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Plugin_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Shortcuts.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Preset_Management.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Preset_Manager.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Specifications.qmd
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#pure-limiter" id="toc-pure-limiter" class="nav-link active" data-scroll-target="#pure-limiter">Pure Limiter</a>
  <ul class="collapse">
  <li><a href="#input-level-meter1" id="toc-input-level-meter1" class="nav-link" data-scroll-target="#input-level-meter1">Input Level Meter(1)</a></li>
  <li><a href="#output-level-meter2" id="toc-output-level-meter2" class="nav-link" data-scroll-target="#output-level-meter2">Output Level Meter(2)</a></li>
  <li><a href="#limiting-level-meter3" id="toc-limiting-level-meter3" class="nav-link" data-scroll-target="#limiting-level-meter3">Limiting Level Meter(3)</a></li>
  <li><a href="#input-gain-4" id="toc-input-gain-4" class="nav-link" data-scroll-target="#input-gain-4">Input Gain (4)</a></li>
  <li><a href="#knee-6" id="toc-knee-6" class="nav-link" data-scroll-target="#knee-6">Knee (6)</a></li>
  <li><a href="#output-gain-7" id="toc-output-gain-7" class="nav-link" data-scroll-target="#output-gain-7">Output Gain (7)</a></li>
  <li><a href="#link-knee-8" id="toc-link-knee-8" class="nav-link" data-scroll-target="#link-knee-8">Link Knee (8)</a></li>
  <li><a href="#auto-knee-9" id="toc-auto-knee-9" class="nav-link" data-scroll-target="#auto-knee-9">Auto Knee (9)</a></li>
  <li><a href="#mode-10" id="toc-mode-10" class="nav-link" data-scroll-target="#mode-10">Mode (10)</a></li>
  <li><a href="#release-maximum-11" id="toc-release-maximum-11" class="nav-link" data-scroll-target="#release-maximum-11">Release Maximum (11)</a></li>
  <li><a href="#release-minimum-12" id="toc-release-minimum-12" class="nav-link" data-scroll-target="#release-minimum-12">Release Minimum (12)</a></li>
  <li><a href="#dynamic-velocity-13" id="toc-dynamic-velocity-13" class="nav-link" data-scroll-target="#dynamic-velocity-13">Dynamic Velocity (13)</a></li>
  <li><a href="#dynamic-factor-14" id="toc-dynamic-factor-14" class="nav-link" data-scroll-target="#dynamic-factor-14">Dynamic Factor (14)</a></li>
  <li><a href="#dynamic-high-pass-filter-15" id="toc-dynamic-high-pass-filter-15" class="nav-link" data-scroll-target="#dynamic-high-pass-filter-15">Dynamic High Pass Filter (15)</a></li>
  <li><a href="#dynamic-low-pass-filter-16" id="toc-dynamic-low-pass-filter-16" class="nav-link" data-scroll-target="#dynamic-low-pass-filter-16">Dynamic Low Pass Filter (16)</a></li>
  <li><a href="#channels-link-17" id="toc-channels-link-17" class="nav-link" data-scroll-target="#channels-link-17">Channels Link (17)</a></li>
  <li><a href="#display-a-b-18-19" id="toc-display-a-b-18-19" class="nav-link" data-scroll-target="#display-a-b-18-19">Display A /B (18) (19)</a></li>
  <li><a href="#make-up-20" id="toc-make-up-20" class="nav-link" data-scroll-target="#make-up-20">Make Up (20)</a></li>
  <li><a href="#bypass-21" id="toc-bypass-21" class="nav-link" data-scroll-target="#bypass-21">Bypass (21)</a></li>
  <li><a href="#lookahead-22" id="toc-lookahead-22" class="nav-link" data-scroll-target="#lookahead-22">Lookahead (22)</a></li>
  <li><a href="#auto-lookahead-23" id="toc-auto-lookahead-23" class="nav-link" data-scroll-target="#auto-lookahead-23">Auto Lookahead (23)</a></li>
  <li><a href="#diff-24" id="toc-diff-24" class="nav-link" data-scroll-target="#diff-24">Diff (24)</a></li>
  <li><a href="#dynamic-filter-solo-25" id="toc-dynamic-filter-solo-25" class="nav-link" data-scroll-target="#dynamic-filter-solo-25">Dynamic Filter Solo (25)</a></li>
  <li><a href="#loaded-preset-display-26" id="toc-loaded-preset-display-26" class="nav-link" data-scroll-target="#loaded-preset-display-26">Loaded Preset Display (26)</a></li>
  <li><a href="#save-27" id="toc-save-27" class="nav-link" data-scroll-target="#save-27">Save (27)</a></li>
  <li><a href="#recall-28" id="toc-recall-28" class="nav-link" data-scroll-target="#recall-28">Recall (28)</a></li>
  <li><a href="#copy-a-copy-b-29" id="toc-copy-a-copy-b-29" class="nav-link" data-scroll-target="#copy-a-copy-b-29">Copy A Copy B (29)</a></li>
  <li><a href="#morphing-slider-30" id="toc-morphing-slider-30" class="nav-link" data-scroll-target="#morphing-slider-30">Morphing Slider (30)</a></li>
  <li><a href="#automation-31" id="toc-automation-31" class="nav-link" data-scroll-target="#automation-31">Automation (31)</a></li>
  <li><a href="#preset-management-access-32" id="toc-preset-management-access-32" class="nav-link" data-scroll-target="#preset-management-access-32">Preset Management Access (32)</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="pure-limiter" class="level1">
<h1>Pure Limiter</h1>
<p><a href="https://www.flux.audio/project/pure-limiter/">Product Page</a> | <a href="https://shop.flux.audio/en_US/products/pure-limiter">Shop Page</a></p>
<p><img src="include/pure-limiter_01.png" class="img-fluid"></p>
<p>Pure Limiter makes transparent limiting easy; a dramatic increase of the average audio level can now be accomplished without damaging the perceived audio quality, with the exquisite proprietary Flux:: technology generating a release envelope assuring that no artifacts on the processed sound are produced. Unless you use it as a special effect, Pure Limiter should always be in the very last stage of your audio processing chain.</p>
<p>To make the setting even easier, the Pure Limiter also features two display modes, when mode A is engaged, both original and limited waveforms are displayed. The Mode B displays the limited waveform, the limiter action and the histogram of the release value which is especially useful when running in advanced mode. All display meters are peak-meters featuring a peak hold.</p>
<section id="input-level-meter1" class="level2">
<h2 class="anchored" data-anchor-id="input-level-meter1">Input Level Meter(1)</h2>
<p>from -96 dB to 0 dB</p>
</section>
<section id="output-level-meter2" class="level2">
<h2 class="anchored" data-anchor-id="output-level-meter2">Output Level Meter(2)</h2>
<p>from -96 dB to 0 dB</p>
</section>
<section id="limiting-level-meter3" class="level2">
<h2 class="anchored" data-anchor-id="limiting-level-meter3">Limiting Level Meter(3)</h2>
<p>from 0 dB to -12 dB</p>
</section>
<section id="input-gain-4" class="level2">
<h2 class="anchored" data-anchor-id="input-gain-4">Input Gain (4)</h2>
<p>Unit: dB<br>
Value Range: -12 / +12<br>
Step: 0.01.<br>
Default Value: 0 dB.</p>
<p>Sets the gain applied to the dynamic processing input. ## Threshold (5) Unit: dB<br>
Value Range: -12 / 0<br>
Step: 0.01.<br>
Default Value: 0 dB</p>
<p>Sets the threshold of the limiting action. This value is displayed into the input peak meter.</p>
</section>
<section id="knee-6" class="level2">
<h2 class="anchored" data-anchor-id="knee-6">Knee (6)</h2>
<p>Unit: dB<br>
Value Range: 0 / +12<br>
Step: 0.01.<br>
Default Value: 0 dB</p>
<p>Sets the smoothness of the transmission curve for the limiting action. The curve is smoothed above the threshold value. The transition range between the linear transfer to the fully limited transfer is set by the knee value.</p>
</section>
<section id="output-gain-7" class="level2">
<h2 class="anchored" data-anchor-id="output-gain-7">Output Gain (7)</h2>
<p>Unit: dB<br>
Value Range: -12 / +12<br>
Step: 0.01.<br>
Default Value: 0 dB</p>
<p>Sets the global gain applied to the dynamic processing output.</p>
</section>
<section id="link-knee-8" class="level2">
<h2 class="anchored" data-anchor-id="link-knee-8">Link Knee (8)</h2>
<p>When enabled the knee value reflects the threshold value. Setting the threshold also sets the knee.</p>
</section>
<section id="auto-knee-9" class="level2">
<h2 class="anchored" data-anchor-id="auto-knee-9">Auto Knee (9)</h2>
<p>The knee is automatically defined according to your settings and may vary according to the audio material.</p>
</section>
<section id="mode-10" class="level2">
<h2 class="anchored" data-anchor-id="mode-10">Mode (10)</h2>
<p>Default Value: Auto.<br>
Three modes are available for the envelop of the dynamic processing.<br>
Manual corresponds to the value you have set.<br>
Auto enables our specific algorithm to generate a signal dependent value to avoid typical pumping effects.<br>
Advanced will allow you to tweak the automatic mode.</p>
</section>
<section id="release-maximum-11" class="level2">
<h2 class="anchored" data-anchor-id="release-maximum-11">Release Maximum (11)</h2>
<p>Unit: ms<br>
Value Range: 1.75 / 12000<br>
Step: variable.<br>
Default Value: 3000 ms</p>
<p>Sets the manual release value and the maximum release value when in Advanced Mode.</p>
</section>
<section id="release-minimum-12" class="level2">
<h2 class="anchored" data-anchor-id="release-minimum-12">Release Minimum (12)</h2>
<p>Unit: ms<br>
Value Range: 0.75 / 11999<br>
Step: variable.<br>
Default Value: 60 ms</p>
<p>Sets the minimum release value when in Advanced Mode.</p>
</section>
<section id="dynamic-velocity-13" class="level2">
<h2 class="anchored" data-anchor-id="dynamic-velocity-13">Dynamic Velocity (13)</h2>
<p>Unit: %<br>
Value Range: 0 / 100<br>
Step: variable.<br>
Default Value: 100%</p>
<p>Apply a release to the extracted real time dynamic informations.<br>
100% Mean full velocity (no release).</p>
</section>
<section id="dynamic-factor-14" class="level2">
<h2 class="anchored" data-anchor-id="dynamic-factor-14">Dynamic Factor (14)</h2>
<p>Unit: x<br>
Value Range: 0 / 3.0<br>
Step: variable.<br>
Default Value: 1</p>
<p>Amplify or dim the extracted real time dynamic informations.</p>
</section>
<section id="dynamic-high-pass-filter-15" class="level2">
<h2 class="anchored" data-anchor-id="dynamic-high-pass-filter-15">Dynamic High Pass Filter (15)</h2>
<p>Unit: Hz<br>
Value Range: 10 / 21900<br>
Step: variable.<br>
Default Value: 10 Hz</p>
<p>Sets the Lowest frequency feeding the release control section.</p>
</section>
<section id="dynamic-low-pass-filter-16" class="level2">
<h2 class="anchored" data-anchor-id="dynamic-low-pass-filter-16">Dynamic Low Pass Filter (16)</h2>
<p>Unit: Hz<br>
Value Range: 110 / 22000<br>
Step: variable.<br>
Default Value: 22000 KHz</p>
<p>Sets the highest frequency feeding release control section.</p>
</section>
<section id="channels-link-17" class="level2">
<h2 class="anchored" data-anchor-id="channels-link-17">Channels Link (17)</h2>
<p>% of channels linkage<br>
Unit: Percents (%)<br>
Range: 0 to 100<br>
Min. Steps: 1<br>
Default Value: 50%</p>
</section>
<section id="display-a-b-18-19" class="level2">
<h2 class="anchored" data-anchor-id="display-a-b-18-19">Display A /B (18) (19)</h2>
<p>Toggle display of the dynamic curve</p>
</section>
<section id="make-up-20" class="level2">
<h2 class="anchored" data-anchor-id="make-up-20">Make Up (20)</h2>
<p>When engaged, the output gain is increased from the threshold value.</p>
</section>
<section id="bypass-21" class="level2">
<h2 class="anchored" data-anchor-id="bypass-21">Bypass (21)</h2>
<p>Default Value: Off. The inputs are directly routed to the outputs.</p>
</section>
<section id="lookahead-22" class="level2">
<h2 class="anchored" data-anchor-id="lookahead-22">Lookahead (22)</h2>
<p>Unit: ms<br>
Value Range: 0 / 10<br>
Default Value: 10<br>
Step: 1 sample</p>
<p>This delay line allows to decrease the gain before the audio peak arrives. Itâ€™s a key point to avoid audio distortion. Note that changing this delay value may create clicks. Note also that this delay value is applied to the processed signal and it increases the processing latency.</p>
</section>
<section id="auto-lookahead-23" class="level2">
<h2 class="anchored" data-anchor-id="auto-lookahead-23">Auto Lookahead (23)</h2>
<p>The look ahead is automatically defined according to other settings and may vary according to the audio material.</p>
</section>
<section id="diff-24" class="level2">
<h2 class="anchored" data-anchor-id="diff-24">Diff (24)</h2>
<p>Allow to hear the difference only. Used to better understand the action and allow to easily tweak the parameters On/Off<br>
Default Value: Off</p>
</section>
<section id="dynamic-filter-solo-25" class="level2">
<h2 class="anchored" data-anchor-id="dynamic-filter-solo-25">Dynamic Filter Solo (25)</h2>
<p>When engaged, the signal feeding the dynamic extraction section is monitored. This allows to control which part of the audio spectrum is used to compute the release value.</p>
</section>
<section id="loaded-preset-display-26" class="level2">
<h2 class="anchored" data-anchor-id="loaded-preset-display-26">Loaded Preset Display (26)</h2>
<p>A plug-in features two preset sections; A &amp; B. Clicking on the slot of a specific section reaches the preset bank. The main display is now a preset list in which you can select the preset you want to recall or save in the specific preset section. Two different presets must be used if you plan to use the morphing capability of FLUX Plug-in.</p>
</section>
<section id="save-27" class="level2">
<h2 class="anchored" data-anchor-id="save-27">Save (27)</h2>
<p>Save replaces the selected preset by a new one under the same name featuring the current settings. If you want to keep an existing preset without your new modifications, just select an empty place into the preset list, enter a new name for this modified preset featuring the current settings and press Save.</p>
</section>
<section id="recall-28" class="level2">
<h2 class="anchored" data-anchor-id="recall-28">Recall (28)</h2>
<p>Once a preset is selected from the preset list it must be explicitly loaded into section A or section B by using the recall button. A preset is effective only after it has been recalled.</p>
</section>
<section id="copy-a-copy-b-29" class="level2">
<h2 class="anchored" data-anchor-id="copy-a-copy-b-29">Copy A Copy B (29)</h2>
<p>The current parameters of a section are copied to the other one. The section A or B is re-initialized with the current values and the morphing slider is parked at 100% of the corresponding section.</p>
</section>
<section id="morphing-slider-30" class="level2">
<h2 class="anchored" data-anchor-id="morphing-slider-30">Morphing Slider (30)</h2>
<p>This horizontal slider has no unity nor specific value display. It allows to morph current settings between two loaded presets. A double-click on one side of the slider area toggles between full A and full B settings. The results of an in-between setting can be saved as a new preset.</p>
</section>
<section id="automation-31" class="level2">
<h2 class="anchored" data-anchor-id="automation-31">Automation (31)</h2>
<p>Default Value: Off<br>
When this button is disabled, all the plug-in parameters values are recorded when writing automation. The morphing slider is ignored.<br>
When reading automation, if this button is disabled, all the plug-in parameters are controlled by the host automation except the morphing slider.<br>
When this button is engaged, all parameters are recorded when writing automation uncluding the morphing slider.<br>
When this button is engaged, ONLY the morphing slider value is applied when reading automation.<br>
The Automation button must be engaged if the morphing slider has to be mapped on a control surface.</p>
</section>
<section id="preset-management-access-32" class="level2">
<h2 class="anchored" data-anchor-id="preset-management-access-32">Preset Management Access (32)</h2>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>