<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>FLUX:: Immersive Products Documentation – module_settings</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">FLUX:: Immersive Products Documentation</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">FLUX:: Immersive Products Documentation</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Plug-ins</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Evo Channel</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  ../evo-channel/index.html
  </li>
          <li class="sidebar-item">
  ../evo-channel/General_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Module_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Geek_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Plugin_Settings.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Shortcuts.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Preset_Management.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Preset_Manager.qmd
  </li>
          <li class="sidebar-item">
  ../evo-channel/Specifications.qmd
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#module-settings" id="toc-module-settings" class="nav-link active" data-scroll-target="#module-settings">Module Settings</a>
  <ul class="collapse">
  <li><a href="#analyser" id="toc-analyser" class="nav-link" data-scroll-target="#analyser">Analyser</a>
  <ul class="collapse">
  <li><a href="#analyser-switch" id="toc-analyser-switch" class="nav-link" data-scroll-target="#analyser-switch">Analyser Switch</a></li>
  <li><a href="#analyser-slider" id="toc-analyser-slider" class="nav-link" data-scroll-target="#analyser-slider">Analyser Slider</a></li>
  </ul></li>
  <li><a href="#input" id="toc-input" class="nav-link" data-scroll-target="#input">Input</a>
  <ul class="collapse">
  <li><a href="#input-gain" id="toc-input-gain" class="nav-link" data-scroll-target="#input-gain">Input Gain</a></li>
  <li><a href="#drive" id="toc-drive" class="nav-link" data-scroll-target="#drive">Drive</a></li>
  </ul></li>
  <li><a href="#equalization-module" id="toc-equalization-module" class="nav-link" data-scroll-target="#equalization-module">Equalization module</a>
  <ul class="collapse">
  <li><a href="#low-cut-switch" id="toc-low-cut-switch" class="nav-link" data-scroll-target="#low-cut-switch">Low-Cut Switch</a></li>
  <li><a href="#low-cut-cutoff-frequency" id="toc-low-cut-cutoff-frequency" class="nav-link" data-scroll-target="#low-cut-cutoff-frequency">Low-Cut Cutoff Frequency</a></li>
  <li><a href="#low-cut-slope" id="toc-low-cut-slope" class="nav-link" data-scroll-target="#low-cut-slope">Low-Cut Slope</a></li>
  <li><a href="#low-shelf-switch" id="toc-low-shelf-switch" class="nav-link" data-scroll-target="#low-shelf-switch">Low Shelf Switch</a></li>
  <li><a href="#low-shelf-cutoff" id="toc-low-shelf-cutoff" class="nav-link" data-scroll-target="#low-shelf-cutoff">Low Shelf Cutoff</a></li>
  <li><a href="#low-shelf-gain" id="toc-low-shelf-gain" class="nav-link" data-scroll-target="#low-shelf-gain">Low Shelf Gain</a></li>
  <li><a href="#high-cut-switch" id="toc-high-cut-switch" class="nav-link" data-scroll-target="#high-cut-switch">High-Cut Switch</a></li>
  <li><a href="#high-cut-cutoff-frequency" id="toc-high-cut-cutoff-frequency" class="nav-link" data-scroll-target="#high-cut-cutoff-frequency">High-Cut Cutoff Frequency</a></li>
  <li><a href="#high-cut-slope" id="toc-high-cut-slope" class="nav-link" data-scroll-target="#high-cut-slope">High-Cut Slope</a></li>
  <li><a href="#high-shelf-switch" id="toc-high-shelf-switch" class="nav-link" data-scroll-target="#high-shelf-switch">High Shelf Switch</a></li>
  <li><a href="#high-shelf-cutoff" id="toc-high-shelf-cutoff" class="nav-link" data-scroll-target="#high-shelf-cutoff">High Shelf Cutoff</a></li>
  <li><a href="#high-shelf-gain" id="toc-high-shelf-gain" class="nav-link" data-scroll-target="#high-shelf-gain">High Shelf Gain</a></li>
  <li><a href="#parametric-equalization-switches" id="toc-parametric-equalization-switches" class="nav-link" data-scroll-target="#parametric-equalization-switches">Parametric Equalization Switches</a></li>
  <li><a href="#parametric-equalization-gain" id="toc-parametric-equalization-gain" class="nav-link" data-scroll-target="#parametric-equalization-gain">Parametric Equalization Gain</a></li>
  <li><a href="#parametric-equalization-center-frequency" id="toc-parametric-equalization-center-frequency" class="nav-link" data-scroll-target="#parametric-equalization-center-frequency">Parametric Equalization Center Frequency</a></li>
  <li><a href="#parametric-equalization-q" id="toc-parametric-equalization-q" class="nav-link" data-scroll-target="#parametric-equalization-q">Parametric Equalization Q</a></li>
  <li><a href="#equalization-output-gain" id="toc-equalization-output-gain" class="nav-link" data-scroll-target="#equalization-output-gain">Equalization Output Gain</a></li>
  </ul></li>
  <li><a href="#output" id="toc-output" class="nav-link" data-scroll-target="#output">Output</a>
  <ul class="collapse">
  <li><a href="#output-gain" id="toc-output-gain" class="nav-link" data-scroll-target="#output-gain">Output Gain</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Module_Settings.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="module-settings" class="level1">
<h1>Module Settings</h1>
<section id="analyser" class="level2">
<h2 class="anchored" data-anchor-id="analyser">Analyser</h2>
<section id="analyser-switch" class="level3">
<h3 class="anchored" data-anchor-id="analyser-switch">Analyser Switch</h3>
<p>The spectrum analyzer origins from the FLUX:: Pure Analyzer and has been optimized for the EVO Channel. It gives you an accurate direct view of what’s going on in the different frequency domains of your audio. When switched on, the spectrum analysis is activated and displayed in the equalization view panel. The grey waveform correspond to your input signal (post gain/drive), the same as the input meter. The black one is the output signal (post output gain), the same as the output meter.</p>
<p>Value Range : Enabled/Disabled</p>
<p>Default Value : Enabled</p>
</section>
<section id="analyser-slider" class="level3">
<h3 class="anchored" data-anchor-id="analyser-slider">Analyser Slider</h3>
<p>Controls the amount of frequency detail of the curve. Move the slider to the left to get a more smoothed curved, and to the right to get more details.</p>
<p>Value Range : No Value</p>
</section>
</section>
<section id="input" class="level2">
<h2 class="anchored" data-anchor-id="input">Input</h2>
<section id="input-gain" class="level3">
<h3 class="anchored" data-anchor-id="input-gain">Input Gain</h3>
<p>The input gain control trims the level of the signal at the input of EVO Channel. The meter shows both RMS signal (VU-Meter, blue) and peak signal (peak meter, green), from -24 to +18 dB range, referenced at -18dB.</p>
<p>Value Range : -24.0 dB / +18.0 dB</p>
<p>Colors : - Blue : RMS Value - Green : Peak Value</p>
<p>Default Value : 0.0 dB</p>
</section>
<section id="drive" class="level3">
<h3 class="anchored" data-anchor-id="drive">Drive</h3>
<p>In EVO EQ a signal Drive is available direct at the input Gain for restoring and maintaining the vitality of the sound.</p>
<p>The drive module has been specially designed to add a soft saturation and warmth to your audio tracks.</p>
<p>Value Range : 0% / 100%</p>
<p>Default Value : 0%</p>
</section>
</section>
<section id="equalization-module" class="level2">
<h2 class="anchored" data-anchor-id="equalization-module">Equalization module</h2>
<p>One of the corner stones in a Channel Strip is a well-built, efficient and complete Equalizer.</p>
<p>The EVO EQ is a straightforward comprehensive 4-band equalizer with additional 6-24 dB Hi/Lo filters.</p>
<p>The graphical interactive EQ curve is layered on top of the built in Spectrum Analyzer for hands-on editing with direct connection to the visual response.</p>
<p>Built with a 64 bit dynamic range, the EQ section has been carefully tuned to preserve the optimal signal to noise ratio independent of the parameter settings preventing the signal from deteriorating when the gain is reduced. It’s an efficient sharp-edged surgical precision tool for the most demanding equalizing and filtering tasks conceivable.</p>
<p>Equalization module is divided in two parts : - A filtering part composed of a low cut, a low shelf, a high cut and a high shelf filter. - A parametric equalization stage made of four parametric EQs.</p>
<p><img src="include/evoEQ_eq.png" class="img-fluid"></p>
<section id="low-cut-switch" class="level3">
<h3 class="anchored" data-anchor-id="low-cut-switch">Low-Cut Switch</h3>
<p>Enables the low cut filter.</p>
<p>Value Range : Enabled / Disabled</p>
<p>Default Value : Enabled</p>
</section>
<section id="low-cut-cutoff-frequency" class="level3">
<h3 class="anchored" data-anchor-id="low-cut-cutoff-frequency">Low-Cut Cutoff Frequency</h3>
<p>Cutoff frequency of the low cut filter.</p>
<p>Value Range : 20Hz to sampling rate / 2</p>
<p>Default Value : 20Hz</p>
</section>
<section id="low-cut-slope" class="level3">
<h3 class="anchored" data-anchor-id="low-cut-slope">Low-Cut Slope</h3>
<p>Slope of the low cut filter.</p>
<p>Value Range : 6dB/oct - 24dB/oct</p>
<p>Default Value : 6dB/oct</p>
</section>
<section id="low-shelf-switch" class="level3">
<h3 class="anchored" data-anchor-id="low-shelf-switch">Low Shelf Switch</h3>
<p>Enables the low shelf.</p>
<p>Value Range : Enabled / Disabled</p>
<p>Default Value : Enabled</p>
</section>
<section id="low-shelf-cutoff" class="level3">
<h3 class="anchored" data-anchor-id="low-shelf-cutoff">Low Shelf Cutoff</h3>
<p>Cutoff frequency of the low shelf.</p>
<p>Value Range : 20Hz / 22050Hz</p>
<p>Default Value : 100Hz</p>
</section>
<section id="low-shelf-gain" class="level3">
<h3 class="anchored" data-anchor-id="low-shelf-gain">Low Shelf Gain</h3>
<p>Target gain for frequencies below the cutoff frequency.</p>
<p>Value Range : -24.0dB / +24.0dB</p>
<p>Default Value : 0.0dB</p>
</section>
<section id="high-cut-switch" class="level3">
<h3 class="anchored" data-anchor-id="high-cut-switch">High-Cut Switch</h3>
<p>Enables the high cut filter.</p>
<p>Value Range : Enabled / Disabled</p>
<p>Default Value : Enabled</p>
</section>
<section id="high-cut-cutoff-frequency" class="level3">
<h3 class="anchored" data-anchor-id="high-cut-cutoff-frequency">High-Cut Cutoff Frequency</h3>
<p>Cutoff frequency of the high cut filter.</p>
<p>Value Range : 20Hz to sampling rate / 2</p>
<p>Default Value : Sampling rate / 2</p>
</section>
<section id="high-cut-slope" class="level3">
<h3 class="anchored" data-anchor-id="high-cut-slope">High-Cut Slope</h3>
<p>Slope of the high cut filter.</p>
<p>Value Range : 6dB/oct - 24dB/oct</p>
<p>Default Value : 6dB/oct</p>
</section>
<section id="high-shelf-switch" class="level3">
<h3 class="anchored" data-anchor-id="high-shelf-switch">High Shelf Switch</h3>
<p>Enables the high shelf.</p>
<p>Value Range : Enabled / Disabled</p>
<p>Default Value : Enabled</p>
</section>
<section id="high-shelf-cutoff" class="level3">
<h3 class="anchored" data-anchor-id="high-shelf-cutoff">High Shelf Cutoff</h3>
<p>Cutoff frequency of the high shelf.</p>
<p>Value Range : 20Hz to sampling rate / 2</p>
<p>Default Value : 5000Hz</p>
</section>
<section id="high-shelf-gain" class="level3">
<h3 class="anchored" data-anchor-id="high-shelf-gain">High Shelf Gain</h3>
<p>Target gain for frequencies above the cutoff frequency.</p>
<p>Value Range : -24.0dB / +24.0dB</p>
<p>Default Value : 0.0dB</p>
</section>
<section id="parametric-equalization-switches" class="level3">
<h3 class="anchored" data-anchor-id="parametric-equalization-switches">Parametric Equalization Switches</h3>
<p>Enables the corresponding parametric equalizer.</p>
<p>Value Range : Enabled / Disabled</p>
<p>Default Value : Enabled</p>
</section>
<section id="parametric-equalization-gain" class="level3">
<h3 class="anchored" data-anchor-id="parametric-equalization-gain">Parametric Equalization Gain</h3>
<p>Gain stage of parametric equalization.</p>
<p>Value Range : -24.0dB / +24.0dB</p>
<p>Default Value : 0.0dB</p>
</section>
<section id="parametric-equalization-center-frequency" class="level3">
<h3 class="anchored" data-anchor-id="parametric-equalization-center-frequency">Parametric Equalization Center Frequency</h3>
<p>Center frequency of parametric equalization.</p>
<p>Value Range : 20Hz to sampling rate / 2</p>
<p>Default Value : Default value depends of the equalizer used.</p>
<ul>
<li>Low parametric equalizer : 200Hz<br>
</li>
<li>Mid-Low parametric equalizer : 500Hz<br>
</li>
<li>Mid-High parametric equalizer : 1300Hz<br>
</li>
<li>High parametric equalizer : 2500Hz</li>
</ul>
</section>
<section id="parametric-equalization-q" class="level3">
<h3 class="anchored" data-anchor-id="parametric-equalization-q">Parametric Equalization Q</h3>
<p>Q value of parametric equalization. Defines the width of the EQ band.</p>
<p>Value Range : 1.0 Q / 100.0 Q</p>
<p>Default Value : 5.0 Q</p>
</section>
<section id="equalization-output-gain" class="level3">
<h3 class="anchored" data-anchor-id="equalization-output-gain">Equalization Output Gain</h3>
<p>A stage of gain at the output of the equalization module.</p>
<p>Value Range : -12.0dB / +12.0dB</p>
<p>Default Value : 0.0dB</p>
</section>
</section>
<section id="output" class="level2">
<h2 class="anchored" data-anchor-id="output">Output</h2>
<section id="output-gain" class="level3">
<h3 class="anchored" data-anchor-id="output-gain">Output Gain</h3>
<p>The output gain control trims the level of the signal at the output of EVO Eq. The meter shows both RMS signal (VU-Meter, blue) and peak signal (peak meter, green), from -24 to +18 dB range, referenced at -18dB.</p>
<p>Value Range : -24.0 dB / +18.0 dB</p>
<p>Colors : - Blue : RMS Value - Green : Peak Value</p>
<p>Default Value : 0.0 dB</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>